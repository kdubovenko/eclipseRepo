#include "Arduino.h"
#include "SPI.h"
//The setup function is called once at startup of the sketch

SPIClass PatchSPI;

void setup()
{
	Serial.begin(115200);
	Serial.println("Starting SPI COM");

	PatchSPI.begin();
	PatchSPI.beginTransaction(SPISettings(4000000,MSBFIRST,SPI_MODE0));

	Serial.println("Serial COM started");
	Serial.println("Type E to start reading data from Patch");
	Serial.println("Type 0 to stop reading data Patch");

// Add your initialization code here
}

// The loop function is called in an endless loop
void loop()
{
	char input;
	if (Serial.available())
	{
		input = Serial.read();
		Serial.write(input);
	}
	uint16_t SPI_data;
	SPI_data = PatchSPI.transfer16(0);
	//SPI_data = PatchSPI.transfer16(0);
	Serial.print("SPI read: ");
	Serial.println(SPI_data);
	delay(500);
//Add your repeated code here
}
